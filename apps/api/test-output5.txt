2026-02-24 21:40:27 [[32MINFO[39M]: Blockchain service initialized {"account":"0x1b869CaC69Df23Ad9D727932496AEb3605538c8D","rpc":"https://base-sepolia-rpc.publicnode.com"}
=== Testing DeFi Service ===
Test Wallet Address: 0x1b869CaC69Df23Ad9D727932496AEb3605538c8D
Is Session Active: true
Approving SimpleSwapRouter...
Balance of 0x036CbD53842c5426634e7929541eC2318f3dCF7e: 283961
Allowance of 0x036CbD53842c5426634e7929541eC2318f3dCF7e to 0x2AAF6C551168DCF22804c04DdA2c08c82031F289: 1000000000000
Balance of 0x4200000000000000000000000000000000000006: 26740534880700089
Allowance of 0x4200000000000000000000000000000000000006 to 0x2AAF6C551168DCF22804c04DdA2c08c82031F289: 26740534880700089
Approving PositionManager...
Balance of 0x036CbD53842c5426634e7929541eC2318f3dCF7e: 283961
Allowance of 0x036CbD53842c5426634e7929541eC2318f3dCF7e to 0x5b460c8Bd32951183a721bdaa3043495D8861f31: 115792089237316195423570985008687907853269984665640564039457584007913129639931
Balance of 0x4200000000000000000000000000000000000006: 26740534880700089
Allowance of 0x4200000000000000000000000000000000000006 to 0x5b460c8Bd32951183a721bdaa3043495D8861f31: 115792089237316195423570985008687907853269984665640564039457584007913129639935

1. Testing Add Liquidity...
2026-02-24 21:40:32 [[32MINFO[39M]: Executing addLiquidity infrastructure {"params":{"token0":"0x036CbD53842c5426634e7929541eC2318f3dCF7e","token1":"0x4200000000000000000000000000000000000006","amount0":"1000000","amount1":"1000000000000000","userAddress":"0x1b869CaC69Df23Ad9D727932496AEb3605538c8D"}}
2026-02-24 21:40:33 [[32MINFO[39M]: Contract write executed {"hash":"0x0b6f51555dad9db90d2bf06d7b9b4046fc4f80ee72822629493904b1c98a3ebc","contract":"0x5b460c8Bd32951183a721bdaa3043495D8861f31","function":"mint"}
Add Liquidity Result: {
  success: true,
  txHash: '0x0b6f51555dad9db90d2bf06d7b9b4046fc4f80ee72822629493904b1c98a3ebc',
  status: 'submitted',
  explorerUrl: 'https://sepolia.basescan.org/tx/0x0b6f51555dad9db90d2bf06d7b9b4046fc4f80ee72822629493904b1c98a3ebc'
}

2. Testing Swap...
2026-02-24 21:40:33 [[32MINFO[39M]: Executing swap infrastructure {"params":{"tokenIn":"0x036CbD53842c5426634e7929541eC2318f3dCF7e","tokenOut":"0x4200000000000000000000000000000000000006","amount":"100000","zeroForOne":true,"userAddress":"0x1b869CaC69Df23Ad9D727932496AEb3605538c8D"}}
2026-02-24 21:40:34 [[31MERROR[39M]: Contract write failed {"error":"Nonce provided for the transaction is lower than the current nonce of the account.\nTry increasing the nonce or find the latest nonce with `getTransactionCount`.\n\nRequest Arguments:\n  from:   0x1b869CaC69Df23Ad9D727932496AEb3605538c8D\n  to:     0x2AAF6C551168DCF22804c04DdA2c08c82031F289\n  value:  0 ETH\n  data:   0xf3cd914c000000000000000000000000036cbd53842c5426634e7929541ec2318f3dcf7e00000000000000000000000042000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000bb8000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000ba90d5fe45b84b2b99e9c5a1a36c72695c514a800000000000000000000000000000000000000000000000000000000000000001fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe796000000000000000000000000000000000000000000000000000000001000276a4000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000141b869CaC69Df23Ad9D727932496AEb3605538c8D000000000000000000000000\n  gas:    2000000\n \nContract Call:\n  address:   0x2AAF6C551168DCF22804c04DdA2c08c82031F289\n  function:  swap((address currency0, address currency1, uint24 fee, int24 tickSpacing, address hooks), (bool zeroForOne, int256 amountSpecified, uint160 sqrtPriceLimitX96), bytes hookData)\n  args:          ({\"currency0\":\"0x036CbD53842c5426634e7929541eC2318f3dCF7e\",\"currency1\":\"0x4200000000000000000000000000000000000006\",\"fee\":3000,\"tickSpacing\":60,\"hooks\":\"0xba90d5Fe45b84b2b99e9C5A1A36C72695c514A80\"}, {\"zeroForOne\":true,\"amountSpecified\":\"-100000\",\"sqrtPriceLimitX96\":\"4295128740\"}, 0x1b869CaC69Df23Ad9D727932496AEb3605538c8D)\n  sender:    0x1b869CaC69Df23Ad9D727932496AEb3605538c8D\n\nDocs: https://viem.sh/docs/contract/writeContract\nDetails: nonce too low: next nonce 187, tx nonce 186\nVersion: viem@2.46.2"}
2026-02-24 21:40:34 [[31MERROR[39M]: Swap execution failed {"error":"Nonce provided for the transaction is lower than the current nonce of the account.\nTry increasing the nonce or find the latest nonce with `getTransactionCount`.\n\nRequest Arguments:\n  from:   0x1b869CaC69Df23Ad9D727932496AEb3605538c8D\n  to:     0x2AAF6C551168DCF22804c04DdA2c08c82031F289\n  value:  0 ETH\n  data:   0xf3cd914c000000000000000000000000036cbd53842c5426634e7929541ec2318f3dcf7e00000000000000000000000042000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000bb8000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000ba90d5fe45b84b2b99e9c5a1a36c72695c514a800000000000000000000000000000000000000000000000000000000000000001fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe796000000000000000000000000000000000000000000000000000000001000276a4000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000141b869CaC69Df23Ad9D727932496AEb3605538c8D000000000000000000000000\n  gas:    2000000\n \nContract Call:\n  address:   0x2AAF6C551168DCF22804c04DdA2c08c82031F289\n  function:  swap((address currency0, address currency1, uint24 fee, int24 tickSpacing, address hooks), (bool zeroForOne, int256 amountSpecified, uint160 sqrtPriceLimitX96), bytes hookData)\n  args:          ({\"currency0\":\"0x036CbD53842c5426634e7929541eC2318f3dCF7e\",\"currency1\":\"0x4200000000000000000000000000000000000006\",\"fee\":3000,\"tickSpacing\":60,\"hooks\":\"0xba90d5Fe45b84b2b99e9C5A1A36C72695c514A80\"}, {\"zeroForOne\":true,\"amountSpecified\":\"-100000\",\"sqrtPriceLimitX96\":\"4295128740\"}, 0x1b869CaC69Df23Ad9D727932496AEb3605538c8D)\n  sender:    0x1b869CaC69Df23Ad9D727932496AEb3605538c8D\n\nDocs: https://viem.sh/docs/contract/writeContract\nDetails: nonce too low: next nonce 187, tx nonce 186\nVersion: viem@2.46.2"}
Swap Result: {
  success: false,
  error: 'Nonce provided for the transaction is lower than the current nonce of the account.\n' +
    'Try increasing the nonce or find the latest nonce with `getTransactionCount`.\n' +
    '\n' +
    'Request Arguments:\n' +
    '  from:   0x1b869CaC69Df23Ad9D727932496AEb3605538c8D\n' +
    '  to:     0x2AAF6C551168DCF22804c04DdA2c08c82031F289\n' +
    '  value:  0 ETH\n' +
    '  data:   0xf3cd914c000000000000000000000000036cbd53842c5426634e7929541ec2318f3dcf7e00000000000000000000000042000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000bb8000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000ba90d5fe45b84b2b99e9c5a1a36c72695c514a800000000000000000000000000000000000000000000000000000000000000001fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe796000000000000000000000000000000000000000000000000000000001000276a4000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000141b869CaC69Df23Ad9D727932496AEb3605538c8D000000000000000000000000\n' +
    '  gas:    2000000\n' +
    ' \n' +
    'Contract Call:\n' +
    '  address:   0x2AAF6C551168DCF22804c04DdA2c08c82031F289\n' +
    '  function:  swap((address currency0, address currency1, uint24 fee, int24 tickSpacing, address hooks), (bool zeroForOne, int256 amountSpecified, uint160 sqrtPriceLimitX96), bytes hookData)\n' +
    '  args:          ({"currency0":"0x036CbD53842c5426634e7929541eC2318f3dCF7e","currency1":"0x4200000000000000000000000000000000000006","fee":3000,"tickSpacing":60,"hooks":"0xba90d5Fe45b84b2b99e9C5A1A36C72695c514A80"}, {"zeroForOne":true,"amountSpecified":"-100000","sqrtPriceLimitX96":"4295128740"}, 0x1b869CaC69Df23Ad9D727932496AEb3605538c8D)\n' +
    '  sender:    0x1b869CaC69Df23Ad9D727932496AEb3605538c8D\n' +
    '\n' +
    'Docs: https://viem.sh/docs/contract/writeContract\n' +
    'Details: nonce too low: next nonce 187, tx nonce 186\n' +
    'Version: viem@2.46.2'
}

Test Completed.
