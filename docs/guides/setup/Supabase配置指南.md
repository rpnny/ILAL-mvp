# Supabase PostgreSQL é…ç½®æŒ‡å—

## æ­¥éª¤ 1: æ³¨å†Œ Supabase è´¦å·

1. è®¿é—®ï¼šhttps://supabase.com
2. ç‚¹å‡» **"Start your project"**
3. ä½¿ç”¨ GitHubã€Google æˆ–é‚®ç®±æ³¨å†Œ
4. éªŒè¯é‚®ç®±

**é¢„è®¡æ—¶é—´ï¼š2 åˆ†é’Ÿ**

---

## æ­¥éª¤ 2: åˆ›å»ºæ–°é¡¹ç›®

1. ç™»å½•åï¼Œç‚¹å‡» **"New Project"**
2. å¡«å†™ä¿¡æ¯ï¼š
   - **Name**: `ilal-dev`ï¼ˆæˆ–ä»»æ„åç§°ï¼‰
   - **Database Password**: è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆè®°ä½å®ƒï¼ï¼‰
   - **Region**: é€‰æ‹©ç¦»ä½ æœ€è¿‘çš„ï¼ˆå»ºè®®ï¼šSingapore æˆ– Northeast Asia (Tokyo)ï¼‰
   - **Pricing Plan**: é€‰æ‹© **Free**ï¼ˆ0$/æœˆï¼‰
3. ç‚¹å‡» **"Create new project"**
4. ç­‰å¾… 1-2 åˆ†é’Ÿï¼Œé¡¹ç›®åˆ›å»ºä¸­...

**é¢„è®¡æ—¶é—´ï¼š3 åˆ†é’Ÿ**

---

## æ­¥éª¤ 3: è·å–æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

é¡¹ç›®åˆ›å»ºå®Œæˆåï¼š

1. åœ¨é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§èœå• **"Settings"** âš™ï¸
2. ç‚¹å‡» **"Database"**
3. æ»šåŠ¨åˆ° **"Connection string"** éƒ¨åˆ†
4. é€‰æ‹© **"URI"** æ ‡ç­¾
5. ç‚¹å‡» **"Copy"** å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²

**è¿æ¥å­—ç¬¦ä¸²æ ¼å¼ç¤ºä¾‹ï¼š**
```
postgresql://postgres.xxxxxxxxxxxxx:[YOUR-PASSWORD]@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
```

**é‡è¦ï¼š** å°† `[YOUR-PASSWORD]` æ›¿æ¢ä¸ºä½ åœ¨æ­¥éª¤ 2 è®¾ç½®çš„å¯†ç ï¼

---

## æ­¥éª¤ 4: æ›´æ–° ILAL é…ç½®

æˆ–è€…æ‰‹åŠ¨é…ç½®ï¼š

1. æ‰“å¼€ `apps/api/.env`
2. æ‰¾åˆ° `DATABASE_URL` è¿™ä¸€è¡Œ
3. æ›¿æ¢ä¸ºä½ çš„ Supabase è¿æ¥å­—ç¬¦ä¸²ï¼š
   ```
   DATABASE_URL="postgresql://postgres.xxxxx:[YOUR-PASSWORD]@aws-0-xxx.pooler.supabase.com:6543/postgres"
   ```
4. ä¿å­˜æ–‡ä»¶

---

## æ­¥éª¤ 5: è¿è¡Œæ•°æ®åº“è¿ç§»

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
cd /Users/ronny/Desktop/ilal/apps/api

# ç”Ÿæˆ Prisma Client
npx prisma generate

# è¿è¡Œè¿ç§»ï¼ˆåˆ›å»ºè¡¨ç»“æ„ï¼‰
npx prisma migrate deploy
```

---

## æ­¥éª¤ 6: éªŒè¯è¿æ¥

```bash
# æµ‹è¯•è¿æ¥
npx prisma db push

# æŸ¥çœ‹æ•°æ®åº“
npx prisma studio
```

---

## å®Œæˆï¼

âœ… Supabase PostgreSQL å·²é…ç½®  
âœ… æ•°æ®åº“è¡¨å·²åˆ›å»º  
âœ… å¯ä»¥å¼€å§‹ä½¿ç”¨  

å¯åŠ¨æœåŠ¡ï¼š
```bash
npm run dev
```

è¿è¡Œæµ‹è¯•ï¼š
```bash
npx tsx test-e2e.ts
```

---

## Supabase ç®¡ç†ç•Œé¢

å›åˆ° Supabase é¡¹ç›®é¡µé¢ï¼Œä½ å¯ä»¥ï¼š

- **Table Editor**: æŸ¥çœ‹å’Œç¼–è¾‘æ•°æ®
- **SQL Editor**: è¿è¡Œ SQL æŸ¥è¯¢
- **Database**: æŸ¥çœ‹è¿æ¥ä¿¡æ¯
- **Logs**: æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—

è®¿é—®ï¼šhttps://app.supabase.com/project/ä½ çš„é¡¹ç›®ID

---

## å¸¸è§é—®é¢˜

### Q: å¿˜è®°äº†æ•°æ®åº“å¯†ç ï¼Ÿ
A: åœ¨ Supabase é¡¹ç›®çš„ Settings â†’ Database â†’ Reset Database Password

### Q: è¿æ¥å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ï¼š
1. å¯†ç æ˜¯å¦æ­£ç¡®ï¼ˆä¸è¦æœ‰ç‰¹æ®Šå­—ç¬¦é—®é¢˜ï¼‰
2. è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦å®Œæ•´
3. ç½‘ç»œæ˜¯å¦æ­£å¸¸

### Q: å…è´¹ç‰ˆé™åˆ¶ï¼Ÿ
A: 
- 500 MB æ•°æ®åº“å­˜å‚¨
- æ— é™ API è¯·æ±‚
- 2 GB å¸¦å®½/æœˆ
- 50,000 æ¯æœˆæ´»è·ƒç”¨æˆ·

å¼€å‘é˜¶æ®µå®Œå…¨å¤Ÿç”¨ï¼

---

## ä¼˜åŠ¿å¯¹æ¯”

| åŠŸèƒ½ | SQLite | Supabase |
|------|--------|----------|
| æœ¬åœ°å®‰è£… | âœ… æ— éœ€å®‰è£… | âœ… æ— éœ€å®‰è£… |
| æ€§èƒ½ | å¼€å‘å¤Ÿç”¨ | ğŸš€ ç”Ÿäº§çº§ |
| å¤‡ä»½ | æ‰‹åŠ¨ | âœ… è‡ªåŠ¨ |
| ç®¡ç†ç•Œé¢ | Prisma Studio | âœ… Web UI |
| å¹¶å‘ | æœ‰é™ | âœ… é«˜å¹¶å‘ |
| éƒ¨ç½² | éœ€è¿ç§» | âœ… ç›´æ¥ç”¨ |
| ä»·æ ¼ | å…è´¹ | å…è´¹ |

---

## ä¸‹ä¸€æ­¥

è·å– Supabase è¿æ¥å­—ç¬¦ä¸²åï¼Œé…ç½®åˆ° `apps/api/.env` çš„ `DATABASE_URL`ï¼Œç„¶åè¿è¡Œè¿ç§»å¹¶å¯åŠ¨ API æœåŠ¡ã€‚
