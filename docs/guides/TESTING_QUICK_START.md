# ğŸ”¥ ILAL æµ‹è¯•å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5 åˆ†é’Ÿå¿«é€Ÿæµ‹è¯•

### Step 1: æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥ Foundry
forge --version

# å¦‚æœæœªå®‰è£…
curl -L https://foundry.paradigm.xyz | bash
foundryup
```

### Step 2: å®‰è£…ä¾èµ–

```bash
cd /Users/ronny/Desktop/ilal/contracts
chmod +x install-deps.sh
./install-deps.sh
```

### Step 3: ç¼–è¯‘åˆçº¦

```bash
forge build
```

### Step 4: è¿è¡ŒåŸºç¡€æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
forge test -vvv

# å¦‚æœå…¨éƒ¨é€šè¿‡ï¼Œè¿›å…¥åœ°ç‹±æ¨¡å¼ ğŸ‘‡
```

---

## ğŸ”¥ åœ°ç‹±æ¨¡å¼æµ‹è¯•

### è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶

```bash
chmod +x run-hell-tests.sh
./run-hell-tests.sh
```

### è¿è¡Œå•ä¸ªæµ‹è¯•ç±»åˆ«

```bash
# 1. æ ¸å¿ƒå•å…ƒæµ‹è¯•
forge test --match-path test/unit/*.sol -vvv

# 2. é›†æˆæµ‹è¯•
forge test --match-path test/integration/*.sol -vvv

# 3. åœ°ç‹±çº§æµ‹è¯•
forge test --match-path test/hell/*.sol -vvv

# 4. Invariant æµ‹è¯•
forge test --match-contract Invariant -vvv
```

---

## ğŸ“Š æµ‹è¯•ç»“æœè§£è¯»

### âœ… å…¨éƒ¨é€šè¿‡

```
âœ… é€šè¿‡: 18
âŒ å¤±è´¥: 0

æ€»é€šè¿‡ç‡: 100% (18/18)

ğŸ‰ğŸ‰ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥ï¼ ğŸ‰ğŸ‰ğŸ‰
```

**ä¸‹ä¸€æ­¥**: éƒ¨ç½²åˆ°æµ‹è¯•ç½‘

### âš ï¸ éƒ¨åˆ†å¤±è´¥

```
âœ… é€šè¿‡: 15
âŒ å¤±è´¥: 3

æ€»é€šè¿‡ç‡: 83% (15/18)

âš ï¸  æœ‰æµ‹è¯•å¤±è´¥ï¼Œè¯·ä¿®å¤åå†ä¸Šçº¿ï¼
```

**ä¸‹ä¸€æ­¥**: æŸ¥çœ‹å¤±è´¥åŸå› å¹¶ä¿®å¤

### æŸ¥çœ‹è¯¦ç»†é”™è¯¯

```bash
# é‡æ–°è¿è¡Œå¤±è´¥çš„æµ‹è¯•ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
forge test --match-test test_Hell_FakeSignature -vvvv
```

---

## ğŸ¯ æµ‹è¯•æ¸…å•

### å·²å®ç°çš„æµ‹è¯• (5 é¡¹) âœ…

- [x] Hook å‡†å…¥ - ç™½åå•é€šè¿‡
- [x] Hook å‡†å…¥ - é»‘åå•æ‹¦æˆª
- [x] Hook å‡†å…¥ - è¿‡æœŸæ‹¦æˆª
- [x] ç´§æ€¥æš‚åœ - ç†”æ–­æµ‹è¯•
- [x] Invariant - 4 ä¸ªä¸å˜æ€§æµ‹è¯•

### åœ°ç‹±çº§æµ‹è¯• (8 é¡¹) ğŸ”¥

- [ ] Hook å‡†å…¥ - ä¼ªé€ ç­¾åæ‹¦æˆª
- [ ] æµåŠ¨æ€§ - ç´§æ€¥æ¨¡å¼ä¸‹å¯æ’¤èµ„ âš¡ **å…³é”®**
- [ ] æµåŠ¨æ€§ - NFT è½¬è®©è¢«é˜»æ­¢
- [ ] Registry - éç®¡ç†å‘˜æ— æƒé™
- [ ] Registry - å‡çº§ä¿ç•™æ•°æ®
- [ ] é˜²é‡æ”¾ - è·¨ç”¨æˆ·æ”»å‡»
- [ ] é˜²é‡æ”¾ - è¿‡æœŸ Proof
- [ ] Gas æ¶ˆè€—åŸºå‡†

### Fork æµ‹è¯• (éœ€è¦éƒ¨ç½²å) ğŸŒ

- [ ] çœŸå® Universal Router é›†æˆ
- [ ] Coinbase Verifications é›†æˆ
- [ ] ä¸»ç½‘ç¯å¢ƒ Gas æ¶ˆè€—

---

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q: æµ‹è¯•æŠ¥é”™ "ModuleNotFound"

```bash
# é‡æ–°å®‰è£…ä¾èµ–
cd contracts
rm -rf lib
./install-deps.sh
forge build
```

### Q: Gas æŠ¥å‘Šå¦‚ä½•æŸ¥çœ‹ï¼Ÿ

```bash
forge test --gas-report
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Contract                 â”‚ Function       â”‚ Gas        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ComplianceHook          â”‚ beforeSwap     â”‚ 12,456     â”‚
â”‚ SessionManager          â”‚ startSession   â”‚ 48,921     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### Q: å¦‚ä½•è·³è¿‡æŸä¸ªæµ‹è¯•ï¼Ÿ

```bash
# è·³è¿‡ Fork æµ‹è¯•ï¼ˆéœ€è¦ RPCï¼‰
forge test --match-test "test_(?!Hell_Real)" -vvv
```

### Q: å¦‚ä½•åªè¿è¡Œå¤±è´¥çš„æµ‹è¯•ï¼Ÿ

Foundry ä¼šè‡ªåŠ¨è®°å½•å¤±è´¥çš„æµ‹è¯•ï¼Œé‡æ–°è¿è¡Œå³å¯ã€‚

---

## ğŸ“ˆ æµ‹è¯•è¿›åº¦è¿½è¸ª

### Phase 1: åŸºç¡€æµ‹è¯• âœ…
- [x] ç¼–è¯‘åˆçº¦
- [x] è¿è¡Œå•å…ƒæµ‹è¯•
- [x] è¿è¡Œé›†æˆæµ‹è¯•
- [x] è¿è¡Œ Invariant æµ‹è¯•

### Phase 2: åœ°ç‹±æ¨¡å¼ ğŸ”¥
- [ ] è¿è¡Œæ‰€æœ‰åœ°ç‹±çº§æµ‹è¯•
- [ ] ä¿®å¤å‘ç°çš„é—®é¢˜
- [ ] è¾¾åˆ° 100% é€šè¿‡ç‡

### Phase 3: Fork æµ‹è¯• ğŸŒ
- [ ] éƒ¨ç½²åˆ° Base Sepolia
- [ ] è¿è¡Œ Fork æµ‹è¯•
- [ ] éªŒè¯ä¸»ç½‘å…¼å®¹æ€§

### Phase 4: æ€§èƒ½æµ‹è¯• âš¡
- [ ] Gas ä¼˜åŒ–
- [ ] ZK Proof æ€§èƒ½æµ‹è¯•
- [ ] å‹åŠ›æµ‹è¯•

---

## ğŸ“ å­¦ä¹ èµ„æº

### Foundry æµ‹è¯•æ•™ç¨‹
- [Foundry Book](https://book.getfoundry.sh/forge/tests)
- [Fuzz Testing](https://book.getfoundry.sh/forge/fuzz-testing)
- [Invariant Testing](https://book.getfoundry.sh/forge/invariant-testing)

### ILAL æ–‡æ¡£
- [æµ‹è¯•æ¸…å•](./HELL_MODE_TESTING.md) - å®Œæ•´æµ‹è¯•åˆ—è¡¨
- [æµ‹è¯•æŠ¥å‘Š](./TEST_REPORT.md) - è¯¦ç»†æµ‹è¯•ç»“æœ
- [æ¶æ„æ–‡æ¡£](./ARCHITECTURE.md) - ç³»ç»Ÿè®¾è®¡

---

## ğŸ“ è·å–å¸®åŠ©

- **Discord**: [discord.gg/ilal](https://discord.gg/ilal)
- **GitHub Issues**: [github.com/ilal/ilal/issues](https://github.com/ilal/ilal/issues)
- **æ–‡æ¡£**: æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•çš„ README.md

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿ** è¿è¡Œç¬¬ä¸€ä¸ªæµ‹è¯•å§ï¼

```bash
forge test -vvv
```

ğŸ”¥ Good Luck! ğŸ”¥
