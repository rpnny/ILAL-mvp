# 🎭 Mock Theater 测试检查清单

## 测试前检查

- [ ] **治理钱包余额充足** (0x1b869CaC69Df23Ad9D727932496AEb3605538c8D)
  - [ ] ETH: ≥ 0.5 ETH
  - [ ] USDC: ≥ 20,000 USDC
  - [ ] WETH: ≥ 1 WETH

- [ ] **账户私钥已配置**
  - [ ] 账户 A 私钥 (ACCOUNT_A_KEY)
  - [ ] 账户 B 私钥 (ACCOUNT_B_KEY)

- [ ] **环境配置正确**
  - [ ] 配置文件已创建 (mock-theater-config.env)
  - [ ] RPC 端点可访问
  - [ ] Node.js 版本 ≥ 18

- [ ] **合约状态检查**
  - [ ] Pool 已初始化 (fee=500)
  - [ ] ComplianceHook 已部署
  - [ ] PositionManager 已部署
  - [ ] SimpleSwapRouter 已部署

## 测试执行检查

### 阶段 1: 初始化 ✅

- [ ] PositionManager 在白名单
- [ ] 资金分发成功
  - [ ] 账户 A 收到 0.05 ETH + 0.5 WETH
  - [ ] 账户 B 收到 0.05 ETH + 10,000 USDC + 0.1 WETH
- [ ] Session 激活成功
  - [ ] 账户 A Session 活跃
  - [ ] 账户 B Session 活跃
- [ ] 初始余额正确显示

### 阶段 2: 对手戏循环 ✅

每轮检查：

- [ ] **账户 A (机构巨鲸)**
  - [ ] 第 1 轮: 成功添加流动性
  - [ ] 流动性 TX 在 Basescan 可查
  - [ ] Position Token ID 已生成
  - [ ] WETH 余额减少

- [ ] **账户 B (高频交易员)**
  - [ ] 每轮执行 2-3 次 Swap
  - [ ] Swap 成功率 > 90%
  - [ ] 双向交易都有（USDC↔WETH）
  - [ ] 余额变化合理

- [ ] **交易记录**
  - [ ] 所有 TX 状态为 Success
  - [ ] Gas 消耗合理
  - [ ] 无 revert 交易

### 阶段 3: 最终统计 ✅

- [ ] 统计数据完整
  - [ ] 总 Swap 数 ≥ 10
  - [ ] 成功率 > 90%
  - [ ] 总交易量显示正确
  - [ ] Gas 消耗统计正确

- [ ] 余额变化合理
  - [ ] 账户 A: WETH 减少（添加了流动性）
  - [ ] 账户 B: USDC/WETH 余额有变化（交易消耗）
  - [ ] 两个账户 ETH 减少（Gas 费）

## 链上验证检查

### Basescan 验证

- [ ] **账户 A 交易历史**
  - [ ] Session 激活交易
  - [ ] WETH approve 交易
  - [ ] Mint 流动性交易
  - [ ] 所有交易 Success

- [ ] **账户 B 交易历史**
  - [ ] Session 激活交易
  - [ ] USDC/WETH approve 交易
  - [ ] 至少 10 笔 Swap 交易
  - [ ] 双向交易记录
  - [ ] 所有交易 Success

- [ ] **ComplianceHook 事件**
  - [ ] SessionVerified 事件
  - [ ] 验证通过记录

### Pool 状态验证

- [ ] 流动性已增加
- [ ] 交易量有累积
- [ ] 手续费有收入
- [ ] 价格曲线正常

## 演示准备检查

- [ ] **截图/录屏准备**
  - [ ] Basescan 交易列表
  - [ ] 账户 A 流动性头寸
  - [ ] 账户 B 交易活跃度
  - [ ] 统计数据截图

- [ ] **演示素材**
  - [ ] 交易哈希列表
  - [ ] 关键交易链接
  - [ ] 数据统计图表

- [ ] **演示脚本**
  - [ ] 故事线准备
  - [ ] 关键点标注
  - [ ] 问答准备

## 问题记录

如果遇到问题，记录以下信息：

```
错误类型: _____________
错误信息: _____________
交易哈希: _____________
区块高度: _____________
账户地址: _____________
重现步骤: _____________
```

## 测试结果评分

| 项目 | 权重 | 得分 | 备注 |
|------|------|------|------|
| 初始化成功 | 20% | ___ | |
| 流动性添加 | 30% | ___ | |
| Swap 成功率 | 30% | ___ | |
| 链上数据质量 | 20% | ___ | |
| **总分** | 100% | ___ | |

**评分标准**:
- 90-100: 优秀 ⭐⭐⭐⭐⭐
- 80-89: 良好 ⭐⭐⭐⭐
- 70-79: 合格 ⭐⭐⭐
- <70: 需要重测 ⭐⭐

## 后续行动

测试完成后：

- [ ] 保存测试日志
- [ ] 收集关键交易哈希
- [ ] 准备演示材料
- [ ] 更新文档（如有改进）
- [ ] 分享测试结果

## 签署确认

测试执行人: ______________  
测试日期: ______________  
测试结果: ⭐ 优秀 / 良好 / 合格 / 需重测  
备注: ______________________________

---

**测试完成！准备好你的演示了吗？** 🎬
